<package id="mypkg"
         xmlns="werkflow:idiomatic"
         xmlns:jelly="werkflow:jelly"
         xmlns:j="jelly:core">

    <import url="message-types.xml"/>

    <process id="fortytwo"
             initiation="message">

        <sequence>
            <on-message type="number.msg" var="theMsg">
                <jelly:action>
                    <j:set var="theNumber" value="${theMsg}"/>
                    theMsg ${theMsg}
                    theNumber ${theNumber}
                </jelly:action>
            </on-message>
            <switch>
                <case condition="${theNumber == 42}">
                    <jelly:action>
                        ${theNumber} is 42
                    </jelly:action>
                </case>
                <otherwise>
                    <jelly:action>
                        ${theNumber} is not 42
                    </jelly:action>
                </otherwise>
            </switch>
        </sequence>
    </process>
</package>
